"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[468],{2468:function(e,n,t){t.r(n),t.d(n,{EditPricingContent:function(){return y}});var i=t(3433),a=t(4165),r=t(4942),o=t(1413),l=t(5861),c=t(9439),s=t(6314),u=t(5527),d=t(4554),m=t(890),p=t(7391),v=t(3400),h=t(6151),Z=t(1243),x=t(2791),f=t(7689),g=t(9823),b=t(9634),j=t(184),y=function(){var e,n,t,y=(0,f.UO)(),C=(0,f.s0)(),k=(0,x.useState)(),w=(0,c.Z)(k,2),z=w[0],S=w[1],D=(0,x.useState)([]),E=(0,c.Z)(D,2),L=E[0],A=E[1],M=(0,x.useState)({}),O=(0,c.Z)(M,2),P=O[0],I=O[1],R=(0,x.useContext)(b.R).snackbar;(0,x.useEffect)((function(){(0,l.Z)((0,a.Z)().mark((function e(){var n,t,i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.Z.get("/plan/".concat(y.id));case 3:t=e.sent,i=t.data,S(i.plan),l={},null===i||void 0===i||null===(n=i.plan.description)||void 0===n||n.forEach((function(e,n){l=(0,o.Z)((0,o.Z)({},l),{},(0,r.Z)({},"description".concat(n),e))})),I(l),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),R("error",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),(0,x.useEffect)((function(){var e;return A(Array.from({length:null===(e=Object.keys(P))||void 0===e?void 0:e.length},(function(){return Math.random()}))),function(){A([])}}),[null===(e=Object.keys(P))||void 0===e?void 0:e.length]);var T=function(e){if("monthly"===e.target.name||"yearly"===e.target.name)return S((0,o.Z)((0,o.Z)({},z),{},{price:(0,o.Z)((0,o.Z)({},z.price),{},(0,r.Z)({},e.target.name,e.target.value))}));S((0,o.Z)((0,o.Z)({},z),{},(0,r.Z)({},e.target.name,e.target.value)))},W=function(e,n){I((0,o.Z)((0,o.Z)({},P),{},(0,r.Z)({},e.target.name,e.target.value)))},_=function(){var e=(0,l.Z)((0,a.Z)().mark((function e(n){var t,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,t=(0,o.Z)((0,o.Z)({},z),{},{description:Object.values(P)}),e.next=5,Z.Z.patch("/plan/".concat(y.id),t);case 5:i=e.sent,R(i.data.status,i.data.message),C("/admin/pricing"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),R("error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsx)(s.Z,{width:"100%",margin:"auto",alignItems:"center",padding:2,boxSizing:"border-box",children:(0,j.jsx)(u.Z,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",p:5,bgcolor:"white",borderRadius:"20px"},elevation:10,children:(0,j.jsxs)(d.Z,{component:"form",autoComplete:"off",onSubmit:_,children:[(0,j.jsx)(m.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",sx:{color:"#795da8",width:"100%",mb:2},children:"Edit Subscription"}),(0,j.jsxs)(s.Z,{direction:"column",spacing:2,children:[(0,j.jsx)(p.Z,{size:"small",label:"Name",name:"name",value:(null===z||void 0===z?void 0:z.name)||"",variant:"outlined",onChange:T,required:!0}),null===L||void 0===L?void 0:L.map((function(e,n){return(0,j.jsx)(s.Z,{direction:"row",alignItems:"center",spacing:1,position:"relative",children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(p.Z,{size:"small",label:"Description",name:"description".concat(n),value:P["description".concat(n)],onChange:W,variant:"outlined",fullWidth:!0}),(0,j.jsx)(v.Z,{"aria-label":"remove",size:"small",onClick:function(){return function(e){var n=P;A(L.filter((function(n,t){return t!==e}))),delete n["description".concat(e)],I(n)}(n)},sx:{padding:"0",position:"absolute",right:"-5px",top:"-5px",transition:"all 200ms ease",backgroundColor:"#795DA8",color:"white","&:hover":{backgroundColor:"#CEC5DC",color:"#795DA8"}},children:(0,j.jsx)(g.Z,{sx:{fontSize:"15px"}})})]})},e)})),(0,j.jsx)(d.Z,{width:"100%",textAlign:"right",sx:{marginTop:"5px !important",marginBottom:"10px !important"},children:(0,j.jsx)(h.Z,{disableElevation:!0,size:"small",onClick:function(){var e;A([].concat((0,i.Z)(L),[Math.random()])),I((0,o.Z)((0,o.Z)({},P),{},(0,r.Z)({},"description".concat(null===(e=Object.keys(P))||void 0===e?void 0:e.length),"")))},sx:{},children:"Add More Description"})})]}),(0,j.jsxs)(s.Z,{spacing:2,direction:"row",children:[(0,j.jsx)(p.Z,{size:"small",label:"Monthly Price",name:"monthly",value:(null===z||void 0===z||null===(n=z.price)||void 0===n?void 0:n.monthly)||"",variant:"outlined",type:"number",onChange:T}),(0,j.jsx)(p.Z,{size:"small",label:"Yearly Price",name:"yearly",value:(null===z||void 0===z||null===(t=z.price)||void 0===t?void 0:t.yearly)||"",type:"number",variant:"outlined",onChange:T})]}),(0,j.jsxs)(s.Z,{spacing:2,mt:2,direction:"row",children:[(0,j.jsx)(p.Z,{size:"small",label:"Template Limit",name:"templateLimit",value:(null===z||void 0===z?void 0:z.templateLimit)||"",variant:"outlined",type:"number",onChange:T}),(0,j.jsx)(p.Z,{size:"small",label:"Guest Limit",name:"guestLimit",value:(null===z||void 0===z?void 0:z.guestLimit)||"",type:"number",variant:"outlined",onChange:T})]}),(0,j.jsxs)(d.Z,{width:"100%",display:"flex",justifyContent:"space-between",children:[(0,j.jsx)(h.Z,{variant:"contained",type:"submit",sx:{color:"white",my:"20px"},children:"Submit"}),(0,j.jsx)(h.Z,{onClick:function(){return C("/admin/pricing")},variant:"outlined",sx:{my:"20px"},children:"Cancel"})]})]})})})};n.default=y},9823:function(e,n,t){var i=t(4836);n.Z=void 0;var a=i(t(5649)),r=t(184),o=(0,a.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=o}}]);
//# sourceMappingURL=468.3d8c48ff.chunk.js.map