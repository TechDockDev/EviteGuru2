"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[22],{730:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r=t(4165),o=t(5861),i=t(9439),a=t(2791),s=t(1115),l=t(1243),c=t(3400),d=t(6314),u=t(6151),h=t(4554),x=t(890),p=t(792),f=t(5527),m=t(1286),b=t(7247),w=t(7689),v=t(9634),g=t(184);function Z(){var e=(0,a.useState)([]),n=(0,i.Z)(e,2),t=n[0],Z=n[1],j=(0,w.s0)(),C=(0,a.useState)(!1),k=(0,i.Z)(C,2),F=k[0],A=k[1],D=(0,a.useState)(""),S=(0,i.Z)(D,2),B=S[0],N=S[1],y=(0,a.useContext)(v.R).snackbar,z=function(e){F?(N(""),A(!F)):(N(e),A(!F))},E=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var n,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/coupon/all");case 3:n=e.sent,t=n.data,Z(t.coupons),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y("error",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.delete("/coupon/".concat(n));case 3:t=e.sent,o=t.data,y(o.status,o.message),E(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y("error",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){E()}),[]);var R=[{field:"name",headerName:"Name",width:200},{field:"amount",headerName:"Amount",width:130},{field:"amountType",headerName:"Amount Type",type:"string",width:130},{field:"plans",headerName:"Plans",width:300},{field:"edit",headerName:"Edit",width:80,renderCell:function(e){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(c.Z,{onClick:function(n){n.stopPropagation(),j("/admin/edit-coupon/".concat(e.row._id))},sx:{color:"#FFFFFF",backgroundColor:"#795DA8",borderRadius:"70%"},children:(0,g.jsx)(m.Z,{})})})}},{field:"delete",headerName:"Delete",width:80,renderCell:function(e){return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(c.Z,{onClick:function(n){n.stopPropagation(),z(e.row)},sx:{color:"#FFFFFF",backgroundColor:"#795DA8",borderRadius:"70%"},children:(0,g.jsx)(b.Z,{})})})}}];return(0,g.jsxs)(h.Z,{sx:{width:"100%",boxSizing:"border-box",padding:"0px 20px"},children:[(0,g.jsx)(x.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",mb:2,sx:{color:"#795da8",width:"100%"},children:"Available Coupons"}),(0,g.jsx)(s._,{autoHeight:!0,rows:t,getRowId:function(e){return e._id},columns:R,pageSize:1,disableRowSelectionOnClick:!0,slots:{toolbar:function(){return(0,g.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",m:2,children:[(0,g.jsx)(u.Z,{disableElevation:!0,variant:"contained",sx:{color:"white"},onClick:function(){return j("/admin/promotional-mail")},children:"Send Mails"}),(0,g.jsx)(u.Z,{disableElevation:!0,variant:"contained",sx:{color:"white"},onClick:function(){return j("/admin/add-coupon")},children:"Add Coupon"})]})}},sx:{border:"2px solid #795DA8","&.MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none !important"},"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"600"}}}),(0,g.jsx)(p.Z,{open:F,onClose:z,closeAfterTransition:!0,sx:{bgcolor:"transparent",backdropFilter:"blur(2px)"},children:(0,g.jsxs)(f.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xl:400,lg:400,md:400,sm:400,xs:"70%"},bgcolor:" rgba(133, 103, 157, 0.47)",border:"1px solid white",borderRadius:"20px",p:5},children:[(0,g.jsx)(x.Z,{variant:"h1",sx:{fontSize:"25px",fontWeight:"600",textAlign:"center",color:"white"},children:"Delete Admin"}),(0,g.jsxs)(x.Z,{sx:{mt:2,textAlign:"center",color:"white"},children:["Are sure you want to delete ",B.name," ?"]}),(0,g.jsx)(u.Z,{onClick:function(){M(B._id),z()},variant:"contained",sx:{color:"white",bgcolor:"#3B285B",width:"100%",mt:2,"&:hover":{scale:"1.02",bgcolor:"#3B285B"}},disableElevation:!0,children:"Yes"}),(0,g.jsx)(u.Z,{onClick:z,variant:"outlined",sx:{color:"white",borderColor:"#3B285B",width:"100%",mt:2,"&:hover":{scale:"1.02",borderColor:"#3B285B"}},disableElevation:!0,children:"No"})]})})]})}},7247:function(e,n,t){var r=t(4836);n.Z=void 0;var o=r(t(5649)),i=t(184),a=(0,o.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=a}}]);
//# sourceMappingURL=22.9557b35e.chunk.js.map