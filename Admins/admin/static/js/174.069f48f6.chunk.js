"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[174,468],{2468:function(e,t,n){n.r(t),n.d(t,{EditPricingContent:function(){return j}});var r=n(3433),a=n(4165),i=n(4942),o=n(1413),s=n(5861),l=n(9439),c=n(6314),d=n(5527),u=n(4554),p=n(890),m=n(7391),v=n(3400),h=n(6151),x=n(1243),f=n(2791),Z=n(7689),g=n(9823),b=n(9634),y=n(184),j=function(){var e,t,n,j=(0,Z.UO)(),C=(0,Z.s0)(),w=(0,f.useState)(),S=(0,l.Z)(w,2),k=S[0],M=S[1],R=(0,f.useState)([]),P=(0,l.Z)(R,2),W=P[0],N=P[1],z=(0,f.useState)({}),A=(0,l.Z)(z,2),L=A[0],T=A[1],B=(0,f.useContext)(b.R).snackbar;(0,f.useEffect)((function(){(0,s.Z)((0,a.Z)().mark((function e(){var t,n,r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.get("/plan/".concat(j.id));case 3:n=e.sent,r=n.data,M(r.plan),s={},null===r||void 0===r||null===(t=r.plan.description)||void 0===t||t.forEach((function(e,t){s=(0,o.Z)((0,o.Z)({},s),{},(0,i.Z)({},"description".concat(t),e))})),T(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),B("error",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]),(0,f.useEffect)((function(){var e;return N(Array.from({length:null===(e=Object.keys(L))||void 0===e?void 0:e.length},(function(){return Math.random()}))),function(){N([])}}),[null===(e=Object.keys(L))||void 0===e?void 0:e.length]);var E=function(e){if("monthly"===e.target.name||"yearly"===e.target.name)return M((0,o.Z)((0,o.Z)({},k),{},{price:(0,o.Z)((0,o.Z)({},k.price),{},(0,i.Z)({},e.target.name,e.target.value))}));M((0,o.Z)((0,o.Z)({},k),{},(0,i.Z)({},e.target.name,e.target.value)))},G=function(e,t){T((0,o.Z)((0,o.Z)({},L),{},(0,i.Z)({},e.target.name,e.target.value)))},D=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=(0,o.Z)((0,o.Z)({},k),{},{description:Object.values(L)}),e.next=5,x.Z.patch("/plan/".concat(j.id),n);case 5:r=e.sent,B(r.data.status,r.data.message),C("/admin/pricing"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),B("error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsx)(c.Z,{width:"100%",margin:"auto",alignItems:"center",padding:2,boxSizing:"border-box",children:(0,y.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",p:5,bgcolor:"white",borderRadius:"20px"},elevation:10,children:(0,y.jsxs)(u.Z,{component:"form",autoComplete:"off",onSubmit:D,children:[(0,y.jsx)(p.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",sx:{color:"#795da8",width:"100%",mb:2},children:"Edit Subscription"}),(0,y.jsxs)(c.Z,{direction:"column",spacing:2,children:[(0,y.jsx)(m.Z,{size:"small",label:"Name",name:"name",value:(null===k||void 0===k?void 0:k.name)||"",variant:"outlined",onChange:E,required:!0}),null===W||void 0===W?void 0:W.map((function(e,t){return(0,y.jsx)(c.Z,{direction:"row",alignItems:"center",spacing:1,position:"relative",children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(m.Z,{size:"small",label:"Description",name:"description".concat(t),value:L["description".concat(t)],onChange:G,variant:"outlined",fullWidth:!0}),(0,y.jsx)(v.Z,{"aria-label":"remove",size:"small",onClick:function(){return function(e){var t=L;N(W.filter((function(t,n){return n!==e}))),delete t["description".concat(e)],T(t)}(t)},sx:{padding:"0",position:"absolute",right:"-5px",top:"-5px",transition:"all 200ms ease",backgroundColor:"#795DA8",color:"white","&:hover":{backgroundColor:"#CEC5DC",color:"#795DA8"}},children:(0,y.jsx)(g.Z,{sx:{fontSize:"15px"}})})]})},e)})),(0,y.jsx)(u.Z,{width:"100%",textAlign:"right",sx:{marginTop:"5px !important",marginBottom:"10px !important"},children:(0,y.jsx)(h.Z,{disableElevation:!0,size:"small",onClick:function(){var e;N([].concat((0,r.Z)(W),[Math.random()])),T((0,o.Z)((0,o.Z)({},L),{},(0,i.Z)({},"description".concat(null===(e=Object.keys(L))||void 0===e?void 0:e.length),"")))},sx:{},children:"Add More Description"})})]}),(0,y.jsxs)(c.Z,{spacing:2,direction:"row",children:[(0,y.jsx)(m.Z,{size:"small",label:"Monthly Price",name:"monthly",value:(null===k||void 0===k||null===(t=k.price)||void 0===t?void 0:t.monthly)||"",variant:"outlined",type:"number",onChange:E}),(0,y.jsx)(m.Z,{size:"small",label:"Yearly Price",name:"yearly",value:(null===k||void 0===k||null===(n=k.price)||void 0===n?void 0:n.yearly)||"",type:"number",variant:"outlined",onChange:E})]}),(0,y.jsxs)(c.Z,{spacing:2,mt:2,direction:"row",children:[(0,y.jsx)(m.Z,{size:"small",label:"Template Limit",name:"templateLimit",value:(null===k||void 0===k?void 0:k.templateLimit)||"",variant:"outlined",type:"number",onChange:E}),(0,y.jsx)(m.Z,{size:"small",label:"Guest Limit",name:"guestLimit",value:(null===k||void 0===k?void 0:k.guestLimit)||"",type:"number",variant:"outlined",onChange:E})]}),(0,y.jsxs)(u.Z,{width:"100%",display:"flex",justifyContent:"space-between",children:[(0,y.jsx)(h.Z,{variant:"contained",type:"submit",sx:{color:"white",my:"20px"},children:"Submit"}),(0,y.jsx)(h.Z,{onClick:function(){return C("/admin/pricing")},variant:"outlined",sx:{my:"20px"},children:"Cancel"})]})]})})})};t.default=j},3174:function(e,t,n){n.r(t),n.d(t,{default:function(){return le}});var r=n(4165),a=n(5861),i=n(9439),o=n(2791),s=n(1243),l=n(4554),c=n(6151),d=n(7462),u=n(3366),p=n(8182),m=n(4419),v=n(6934),h=n(1402),x=n(5527),f=n(5878),Z=n(1217);function g(e){return(0,Z.Z)("MuiCard",e)}(0,f.Z)("MuiCard",["root"]);var b=n(184),y=["className","raised"],j=(0,v.ZP)(x.Z,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),C=o.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiCard"}),r=n.className,a=n.raised,i=void 0!==a&&a,o=(0,u.Z)(n,y),s=(0,d.Z)({},n,{raised:i}),l=function(e){var t=e.classes;return(0,m.Z)({root:["root"]},g,t)}(s);return(0,b.jsx)(j,(0,d.Z)({className:(0,p.Z)(l.root,r),elevation:i?8:void 0,ref:t,ownerState:s},o))}));function w(e){return(0,Z.Z)("MuiCardActions",e)}(0,f.Z)("MuiCardActions",["root","spacing"]);var S=["disableSpacing","className"],k=(0,v.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,d.Z)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),M=o.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiCardActions"}),r=n.disableSpacing,a=void 0!==r&&r,i=n.className,o=(0,u.Z)(n,S),s=(0,d.Z)({},n,{disableSpacing:a}),l=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,m.Z)(n,w,t)}(s);return(0,b.jsx)(k,(0,d.Z)({className:(0,p.Z)(l.root,i),ownerState:s,ref:t},o))}));function R(e){return(0,Z.Z)("MuiCardContent",e)}(0,f.Z)("MuiCardContent",["root"]);var P=["className","component"],W=(0,v.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{padding:16,"&:last-child":{paddingBottom:24}}})),N=o.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiCardContent"}),r=n.className,a=n.component,i=void 0===a?"div":a,o=(0,u.Z)(n,P),s=(0,d.Z)({},n,{component:i}),l=function(e){var t=e.classes;return(0,m.Z)({root:["root"]},R,t)}(s);return(0,b.jsx)(W,(0,d.Z)({as:i,className:(0,p.Z)(l.root,r),ownerState:s,ref:t},o))})),z=n(4942),A=n(890);function L(e){return(0,Z.Z)("MuiCardHeader",e)}var T=(0,f.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),B=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],E=(0,v.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var n;return(0,d.Z)((n={},(0,z.Z)(n,"& .".concat(T.title),t.title),(0,z.Z)(n,"& .".concat(T.subheader),t.subheader),n),t.root)}})({display:"flex",alignItems:"center",padding:16}),G=(0,v.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),D=(0,v.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),I=(0,v.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),O=o.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiCardHeader"}),r=n.action,a=n.avatar,i=n.className,o=n.component,s=void 0===o?"div":o,l=n.disableTypography,c=void 0!==l&&l,v=n.subheader,x=n.subheaderTypographyProps,f=n.title,Z=n.titleTypographyProps,g=(0,u.Z)(n,B),y=(0,d.Z)({},n,{component:s,disableTypography:c}),j=function(e){var t=e.classes;return(0,m.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},L,t)}(y),C=f;null==C||C.type===A.Z||c||(C=(0,b.jsx)(A.Z,(0,d.Z)({variant:a?"body2":"h5",className:j.title,component:"span",display:"block"},Z,{children:C})));var w=v;return null==w||w.type===A.Z||c||(w=(0,b.jsx)(A.Z,(0,d.Z)({variant:a?"body2":"body1",className:j.subheader,color:"text.secondary",component:"span",display:"block"},x,{children:w}))),(0,b.jsxs)(E,(0,d.Z)({className:(0,p.Z)(j.root,i),as:s,ref:t,ownerState:y},g,{children:[a&&(0,b.jsx)(G,{className:j.avatar,ownerState:y,children:a}),(0,b.jsxs)(I,{className:j.content,ownerState:y,children:[C,w]}),r&&(0,b.jsx)(D,{className:j.action,ownerState:y,children:r})]}))})),H=n(1889),_=n(1444),F=n(4663),Y=n(5502),$=n(7312),q=n(7078),U=n(3457),J=n(5080),K=["className","component","disableGutters","fixed","maxWidth","classes"],Q=(0,J.Z)(),V=(0,U.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,$.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),X=function(e){return(0,q.Z)({props:e,name:"MuiContainer",defaultTheme:Q})},ee=function(e,t){var n=e.classes,r=e.fixed,a=e.disableGutters,i=e.maxWidth,o={root:["root",i&&"maxWidth".concat((0,$.Z)(String(i))),r&&"fixed",a&&"disableGutters"]};return(0,m.Z)(o,(function(e){return(0,Z.Z)(t,e)}),n)};var te=n(4036),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?V:t,r=e.useThemeProps,a=void 0===r?X:r,i=e.componentName,s=void 0===i?"MuiContainer":i,l=n((function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&(0,z.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=n,a=t.breakpoints.values[r];return 0!==a&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(a).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return(0,d.Z)({},"xs"===n.maxWidth&&(0,z.Z)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&(0,z.Z)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))}));return o.forwardRef((function(e,t){var n=a(e),r=n.className,i=n.component,o=void 0===i?"div":i,c=n.disableGutters,m=void 0!==c&&c,v=n.fixed,h=void 0!==v&&v,x=n.maxWidth,f=void 0===x?"lg":x,Z=(0,u.Z)(n,K),g=(0,d.Z)({},n,{component:o,disableGutters:m,fixed:h,maxWidth:f}),y=ee(g,s);return(0,b.jsx)(l,(0,d.Z)({as:o,ownerState:g,className:(0,p.Z)(y.root,r),ref:t},Z))}))}({createStyledComponent:(0,v.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,te.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:function(e){return(0,h.Z)({props:e,name:"MuiContainer"})}}),re=ne,ae=(n(9434),n(2468),n(1087)),ie=n(792),oe=n(9634);function se(){var e=(0,o.useState)(!1),t=(0,i.Z)(e,2),n=t[0],d=t[1],u=(0,o.useState)([]),p=(0,i.Z)(u,2),m=p[0],v=p[1],h=(0,o.useState)({}),f=(0,i.Z)(h,2),Z=f[0],g=f[1],y=(0,o.useState)(!1),j=(0,i.Z)(y,2),w=(j[0],j[1]),S=o.useContext(oe.R).snackbar,k=function(e){n?(g(""),d(!n)):(g(e),d(!n))},R=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,s.Z.get("/plan/all");case 4:a=e.sent,v(null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.plans),w(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S("error",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,s.Z.delete("/plan/".concat(t));case 4:n=e.sent,S(n.data.status,n.data.message),w(!1),R(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),S("error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){R()}),[]),(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(Y.Z,{styles:{ul:{margin:0,padding:0,listStyle:"none"}}}),(0,b.jsxs)(l.Z,{padding:"0px 0px 20px 0px",children:[(0,b.jsxs)(F.Z,{sx:{flexWrap:"wrap"},children:[(0,b.jsx)(A.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",mb:2,sx:{color:"#795da8",width:"100%"},children:"Subscription"}),(0,b.jsx)(l.Z,{width:"100%",textAlign:"right",children:(0,b.jsx)(c.Z,{component:ae.OL,to:"/admins/create-plan",variant:"outlined",sx:{my:1,mx:1.5},children:"Add Plans"})})]}),(0,b.jsx)(re,{disableGutters:!0,maxWidth:"sm",component:"main"}),(0,b.jsx)(re,{maxWidth:"md",component:"main",children:(0,b.jsx)(H.ZP,{container:!0,spacing:5,alignItems:"flex-end",children:0!==m.length?null===m||void 0===m?void 0:m.map((function(e,t){var n,r,a;return(0,b.jsx)(H.ZP,{item:!0,xs:12,sm:"Premium Plan"===e.title?12:6,md:4,children:(0,b.jsxs)(C,{children:[(0,b.jsx)(O,{title:e.name,titleTypographyProps:{align:"center"},action:"Pro"===e.title?(0,b.jsx)(_.Z,{}):null,subheaderTypographyProps:{align:"center"},sx:{"& .MuiTypography-root":{fontWeight:"600"},backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[200]:e.palette.grey[700]}}}),(0,b.jsxs)(N,{children:["Enterprise"!==e.name&&(0,b.jsxs)(l.Z,{children:[(0,b.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"baseline",mb:2},children:[(0,b.jsxs)(A.Z,{component:"h2",variant:"h4",color:"text.primary",children:["$",null===e||void 0===e||null===(n=e.price)||void 0===n?void 0:n.monthly]}),(0,b.jsx)(A.Z,{variant:"h6",color:"text.secondary",children:"/month"})]}),(0,b.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"baseline",mb:2},children:[(0,b.jsxs)(A.Z,{component:"h2",variant:"h4",color:"text.primary",children:["$",null===e||void 0===e||null===(r=e.price)||void 0===r?void 0:r.yearly]}),(0,b.jsx)(A.Z,{variant:"h6",color:"text.secondary",children:"/year"})]})]}),(0,b.jsx)("ul",{children:null===e||void 0===e||null===(a=e.description)||void 0===a?void 0:a.map((function(e,t){return(0,b.jsx)(A.Z,{component:"li",variant:"subtitle1",align:"center",children:e},t)}))})]}),(0,b.jsx)(M,{children:(0,b.jsx)(c.Z,{fullWidth:!0,variant:"contained",sx:{color:"white"},component:ae.OL,to:"/admin/plans/".concat(null===e||void 0===e?void 0:e._id),children:"Edit"})}),(0,b.jsx)(M,{children:(0,b.jsx)(c.Z,{fullWidth:!0,variant:"contained",sx:{color:"white"},id:null===e||void 0===e?void 0:e._id,onClick:function(){return k(e)},children:"Delete"})})]})},t)})):(0,b.jsx)(l.Z,{sx:{height:"40vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,b.jsx)(A.Z,{variant:"h6",color:"black",children:"No Plans to display"})})})})]}),(0,b.jsx)(ie.Z,{open:n,onClose:k,closeAfterTransition:!0,sx:{bgcolor:"transparent",backdropFilter:"blur(2px)"},children:(0,b.jsxs)(x.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xl:400,lg:400,md:400,sm:400,xs:"70%"},bgcolor:" rgba(133, 103, 157, 0.47)",border:"1px solid white",borderRadius:"20px",p:5},children:[(0,b.jsx)(A.Z,{variant:"h1",sx:{fontSize:"25px",fontWeight:"600",textAlign:"center",color:"white"},children:"Delete Plan"}),(0,b.jsxs)(A.Z,{sx:{mt:2,textAlign:"center",color:"white"},children:["Are sure you want to delete ",Z.name," ?"]}),(0,b.jsx)(c.Z,{onClick:function(){P(Z._id),k()},variant:"contained",sx:{color:"white",bgcolor:"#3B285B",width:"100%",mt:2,"&:hover":{scale:"1.02",bgcolor:"#3B285B"}},disableElevation:!0,children:"Yes"}),(0,b.jsx)(c.Z,{onClick:k,variant:"outlined",sx:{color:"white",borderColor:"#3B285B",width:"100%",mt:2,"&:hover":{scale:"1.02",borderColor:"#3B285B"}},disableElevation:!0,children:"No"})]})})]})}function le(){return(0,b.jsx)(se,{})}},9823:function(e,t,n){var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),o=(0,a.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},1444:function(e,t,n){var r=n(4836);t.Z=void 0;var a=r(n(5649)),i=n(184),o=(0,a.default)((0,i.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");t.Z=o}}]);
//# sourceMappingURL=174.069f48f6.chunk.js.map