"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[220],{3220:function(e,n,t){t.r(n);var s=t(4165),r=t(5861),i=t(9439),a=t(2791),c=t(1243),o=t(7689),l=t(6314),d=t(890),u=t(5527),x=t(1889),p=t(6151),h=t(792),f=t(4554),v=t(7391),Z=t(184);n.default=function(){var e,n=(0,o.UO)().id,t=(0,a.useState)(!1),m=(0,i.Z)(t,2),j=m[0],b=m[1],g=(0,a.useState)(),k=(0,i.Z)(g,2),w=k[0],P=k[1],y=(0,a.useState)(),C=(0,i.Z)(y,2),E=C[0],I=C[1],S=(0,a.useState)("Gift Invitees"),G=(0,i.Z)(S,2),T=G[0],U=G[1],D=(0,a.useState)(0),_=(0,i.Z)(D,2),B=_[0],N=_[1],W=(0,o.s0)(),q=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("/user/".concat(n));case 3:return t=e.sent,P(t.data.user),e.next=7,c.Z.get("/events/user/total/".concat(n));case 7:r=e.sent,N(r.data.totalEventsByUser),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){q()}),[]);var z={color:"#005a75",fontWeight:"600"},A=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(n),b(!0);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),"Gift Invitees"!==T){e.next=8;break}return e.next=5,c.Z.patch("/user/gift-invitees",{userId:n,giftedInvitees:E});case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,c.Z.patch("/user/gift-templates",{userId:n,giftedTemplates:E});case 10:r=e.sent;case 11:console.log(r),b(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.patch("/user/suspend",{userId:n});case 3:t=e.sent,P(t.data.user),console.log(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)(l.Z,{sx:{padding:"0px 20px"},children:[(0,Z.jsx)(d.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",mb:2,sx:{color:"#795da8",width:"100%"},children:"User details"}),(0,Z.jsxs)(u.Z,{elevation:3,sx:{padding:5},children:[(0,Z.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,Z.jsxs)(x.ZP,{item:!0,xs:12,sm:3.9,children:[(0,Z.jsx)(d.Z,{sx:z,children:"Name"}),(0,Z.jsx)(d.Z,{children:null===w||void 0===w?void 0:w.name})]}),(0,Z.jsxs)(x.ZP,{item:!0,xs:12,sm:3.9,children:[(0,Z.jsx)(d.Z,{sx:z,children:"Email Address"}),(0,Z.jsx)(d.Z,{children:null===w||void 0===w?void 0:w.email})]}),(0,Z.jsxs)(x.ZP,{item:!0,xs:12,sm:3.9,children:[(0,Z.jsx)(d.Z,{sx:z,children:"Phone Number"}),(0,Z.jsx)(d.Z,{children:null===w||void 0===w?void 0:w.phone})]}),(0,Z.jsxs)(x.ZP,{item:!0,xs:12,sm:3.9,children:[(0,Z.jsx)(d.Z,{sx:z,children:"Events"}),(0,Z.jsx)(d.Z,{onClick:function(){W("/admin/events/".concat(w._id))},sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:B})]}),(0,Z.jsxs)(x.ZP,{item:!0,xs:12,sm:3.9,children:[(0,Z.jsx)(d.Z,{sx:z,children:"Plan"}),(0,Z.jsx)(d.Z,{children:null===w||void 0===w||null===(e=w.subscription)||void 0===e?void 0:e.name})]}),(0,Z.jsxs)(x.ZP,{item:!0,xs:12,sm:3.9,children:[(0,Z.jsx)(d.Z,{sx:z,children:"Expiring on"}),(0,Z.jsx)(d.Z,{children:null===w||void 0===w?void 0:w.planEndDate})]})]}),(0,Z.jsxs)(x.ZP,{container:!0,spacing:2,sx:{marginTop:"20px"},children:[(0,Z.jsx)(x.ZP,{item:!0,xs:12,sm:3.9,children:(0,Z.jsx)(p.Z,{disableElevation:!0,variant:"contained",sx:{color:"white"},onClick:function(){return A("Gift Invitees")},children:"Gift Invitees"})}),(0,Z.jsx)(x.ZP,{item:!0,xs:12,sm:3.9,children:(0,Z.jsx)(p.Z,{disableElevation:!0,variant:"contained",sx:{color:"white"},onClick:function(){return A("Gift Templates")},children:"Gift Templates"})}),(0,Z.jsx)(x.ZP,{item:!0,xs:12,sm:3.9,children:(0,Z.jsxs)(p.Z,{disableElevation:!0,variant:"contained",sx:{color:"white"},onClick:R,children:[(null===w||void 0===w?void 0:w.suspended)&&"un","suspend User"]})})]}),(0,Z.jsx)(h.Z,{open:j,onClose:function(){b(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,Z.jsx)(f.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:(0,Z.jsxs)("form",{onSubmit:O,style:{display:"flex",alignItems:"center",justifyContent:"space-around",borderRadius:"10px"},children:[(0,Z.jsx)(v.Z,{type:"number",required:!0,label:T,onChange:function(e){return I(e.target.value)}}),(0,Z.jsx)(p.Z,{variant:"contained",type:"submit",children:T})]})})})]}),(0,Z.jsx)(p.Z,{onClick:function(){return W(-1)},disableElevation:!0,variant:"outlined",sx:{mt:2,width:"fit-content"},children:"Back"})]})}}}]);
//# sourceMappingURL=220.54956585.chunk.js.map