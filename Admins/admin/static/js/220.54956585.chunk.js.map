{"version":3,"file":"static/js/220.54956585.chunk.js","mappings":"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","sources":["screen/Users/UserDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { Box, Button, Grid, Modal, Paper, Stack, TextField, Typography } from \"@mui/material\";\r\n\r\nconst UserDetails = () => {\r\n   const { id } = useParams();\r\n   const [open, setOpen] = useState(false);\r\n   const [user, setUser] = useState();\r\n   const [giftCount, setGiftCount] = useState();\r\n   const [giftType, setGiftType] = useState(\"Gift Invitees\");\r\n   const [totalEvents, setTotalEvents] = useState(0);\r\n   const navigate = useNavigate();\r\n   const getUser = async () => {\r\n      try {\r\n         const res = await axios.get(`/user/${id}`);\r\n         setUser(res.data.user);\r\n         const response = await axios.get(`/events/user/total/${id}`);\r\n         setTotalEvents(response.data.totalEventsByUser);\r\n      } catch (error) {\r\n         console.log(error);\r\n      }\r\n   };\r\n   useEffect(() => {\r\n      getUser();\r\n   }, []);\r\n\r\n   const style = {\r\n      color: \"#005a75\",\r\n      fontWeight: \"600\",\r\n   };\r\n\r\n   const modalStyle = {\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n      width: 400,\r\n      bgcolor: \"background.paper\",\r\n      border: \"2px solid #000\",\r\n      boxShadow: 24,\r\n      p: 4,\r\n   };\r\n   const formStyle = {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"space-around\",\r\n      borderRadius: \"10px\",\r\n   };\r\n   const handleClose = () => {\r\n      setOpen(false);\r\n   };\r\n   const gift = async (type) => {\r\n      setGiftType(type);\r\n      setOpen(true);\r\n   };\r\n\r\n   const handleGift = async (e) => {\r\n      try {\r\n         e.preventDefault();\r\n         let res;\r\n         if (giftType === \"Gift Invitees\") {\r\n            res = await axios.patch(\"/user/gift-invitees\", {\r\n               userId: id,\r\n               giftedInvitees: giftCount,\r\n            });\r\n         } else {\r\n            res = await axios.patch(\"/user/gift-templates\", {\r\n               userId: id,\r\n               giftedTemplates: giftCount,\r\n            });\r\n         }\r\n         console.log(res);\r\n         setOpen(false);\r\n      } catch (error) {\r\n         console.log(error);\r\n      }\r\n   };\r\n   const suspendUser = async () => {\r\n      try {\r\n         const res = await axios.patch(\"/user/suspend\", {\r\n            userId: id,\r\n         });\r\n         setUser(res.data.user);\r\n\r\n         console.log(res);\r\n      } catch (error) {\r\n         console.log(error);\r\n      }\r\n   };\r\n   return (\r\n      <Stack sx={{padding:\"0px 20px\"}}>\r\n         <Typography\r\n            variant=\"h1\"\r\n            align=\"center\"\r\n            fontWeight=\"800\"\r\n            fontSize={\"28px\"}\r\n            mb={2}\r\n            sx={{\r\n               color: \"#795da8\",\r\n               width: \"100%\",\r\n            }}>\r\n            User details\r\n         </Typography>\r\n         <Paper elevation={3} sx={{ padding: 5 }}>\r\n            <Grid container spacing={2}>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Typography sx={style}>Name</Typography>\r\n                  <Typography>{user?.name}</Typography>\r\n               </Grid>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Typography sx={style}>Email Address</Typography>\r\n                  <Typography>{user?.email}</Typography>\r\n               </Grid>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Typography sx={style}>Phone Number</Typography>\r\n                  <Typography>{user?.phone}</Typography>\r\n               </Grid>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Typography sx={style}>Events</Typography>\r\n                  <Typography\r\n                     onClick={() => {\r\n                        navigate(`/admin/events/${user._id}`);\r\n                     }}\r\n                     sx={{ cursor: \"pointer\", \"&:hover\": { textDecoration: \"underline\" } }}>\r\n                     {totalEvents}\r\n                  </Typography>\r\n               </Grid>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Typography sx={style}>Plan</Typography>\r\n                  <Typography>{user?.subscription?.name}</Typography>\r\n               </Grid>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Typography sx={style}>Expiring on</Typography>\r\n                  <Typography>{user?.planEndDate}</Typography>\r\n               </Grid>\r\n            </Grid>\r\n            <Grid container spacing={2} sx={{ marginTop: \"20px\" }}>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Button disableElevation variant=\"contained\" sx={{ color: \"white\" }} onClick={() => gift(\"Gift Invitees\")}>\r\n                     Gift Invitees\r\n                  </Button>\r\n               </Grid>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Button disableElevation variant=\"contained\" sx={{ color: \"white\" }} onClick={() => gift(\"Gift Templates\")}>\r\n                     Gift Templates\r\n                  </Button>\r\n               </Grid>\r\n               <Grid item xs={12} sm={3.9}>\r\n                  <Button disableElevation variant=\"contained\" sx={{ color: \"white\" }} onClick={suspendUser}>\r\n                     {user?.suspended && \"un\"}suspend User\r\n                  </Button>\r\n               </Grid>\r\n            </Grid>\r\n            <Modal open={open} onClose={handleClose} aria-labelledby=\"modal-modal-title\" aria-describedby=\"modal-modal-description\">\r\n               <Box sx={modalStyle}>\r\n                  <form onSubmit={handleGift} style={formStyle}>\r\n                     <TextField type=\"number\" required label={giftType} onChange={(e) => setGiftCount(e.target.value)} />\r\n                     <Button variant=\"contained\" type=\"submit\">\r\n                        {giftType}\r\n                     </Button>\r\n                  </form>\r\n               </Box>\r\n            </Modal>\r\n         </Paper>\r\n         <Button\r\n         onClick={()=>navigate(-1)}\r\n         disableElevation variant=\"outlined\" sx={{mt:2 , width:\"fit-content\"}} >\r\n              Back       \r\n         </Button>\r\n      </Stack>\r\n   );\r\n};\r\n\r\nexport default UserDetails;\r\n"],"names":["_user$subscription","id","useParams","_useState","useState","_useState2","_slicedToArray","open","setOpen","_useState3","_useState4","user","setUser","_useState5","_useState6","giftCount","setGiftCount","_useState7","_useState8","giftType","setGiftType","_useState9","_useState10","totalEvents","setTotalEvents","navigate","useNavigate","getUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","response","wrap","_context","prev","next","axios","concat","sent","data","totalEventsByUser","t0","console","log","stop","apply","arguments","useEffect","style","color","fontWeight","gift","_ref2","_callee2","type","_context2","_x","handleGift","_ref3","_callee3","e","_context3","preventDefault","userId","giftedInvitees","giftedTemplates","_x2","suspendUser","_ref4","_callee4","_context4","_jsxs","Stack","sx","padding","children","_jsx","Typography","variant","align","fontSize","mb","width","Paper","elevation","Grid","container","spacing","item","xs","sm","name","email","phone","onClick","_id","cursor","textDecoration","subscription","planEndDate","marginTop","Button","disableElevation","suspended","Modal","onClose","Box","position","top","left","transform","bgcolor","border","boxShadow","p","onSubmit","display","alignItems","justifyContent","borderRadius","TextField","required","label","onChange","target","value","mt"],"sourceRoot":""}