"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[344],{9344:function(e,r,n){n.r(r),n.d(r,{default:function(){return G}});var t=n(1413),o=n(4165),a=n(5861),s=n(9439),i=n(4554),l=n(5527),c=n(890),d=n(1889),u=n(3366),p=n(7462),v=n(2791),x=n(8182),h=n(4419),m=n(6934),f=n(1402),g=n(9201),w=n(184),b=(0,g.Z)((0,w.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),Z=n(5878),P=n(1217);function j(e){return(0,P.Z)("MuiAvatar",e)}(0,Z.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var y=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],C=(0,m.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r[n.variant],n.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,n=e.ownerState;return(0,p.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,p.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),S=(0,m.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),k=(0,m.ZP)(b,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var z=v.forwardRef((function(e,r){var n=(0,f.Z)({props:e,name:"MuiAvatar"}),t=n.alt,o=n.children,a=n.className,i=n.component,l=void 0===i?"div":i,c=n.imgProps,d=n.sizes,m=n.src,g=n.srcSet,b=n.variant,Z=void 0===b?"circular":b,P=(0,u.Z)(n,y),z=null,M=function(e){var r=e.crossOrigin,n=e.referrerPolicy,t=e.src,o=e.srcSet,a=v.useState(!1),i=(0,s.Z)(a,2),l=i[0],c=i[1];return v.useEffect((function(){if(t||o){c(!1);var e=!0,a=new Image;return a.onload=function(){e&&c("loaded")},a.onerror=function(){e&&c("error")},a.crossOrigin=r,a.referrerPolicy=n,a.src=t,o&&(a.srcset=o),function(){e=!1}}}),[r,n,t,o]),l}((0,p.Z)({},c,{src:m,srcSet:g})),A=m||g,R=A&&"error"!==M,D=(0,p.Z)({},n,{colorDefault:!R,component:l,variant:Z}),E=function(e){var r=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,h.Z)(n,j,r)}(D);return z=R?(0,w.jsx)(S,(0,p.Z)({alt:t,src:m,srcSet:g,sizes:d,ownerState:D,className:E.img},c)):null!=o?o:A&&t?t[0]:(0,w.jsx)(k,{ownerState:D,className:E.fallback}),(0,w.jsx)(C,(0,p.Z)({as:l,ownerState:D,className:(0,x.Z)(E.root,a),ref:r},P,{children:z}))})),M=n(1243),A=n(9434),R=n(6151),D=function(e){var r=e.type,n=e.title,t=e.value,o=e.clickHandler;return(0,w.jsxs)(d.ZP,{item:!0,xs:12,display:"flex",flexDirection:{xs:"column",sm:"row"},children:[(0,w.jsx)(c.Z,{fontWeight:"800",mb:2,sx:{width:"100%"},children:n}),(0,w.jsxs)(c.Z,{color:"#795DA8",fontWeight:"800",mb:2,sx:{width:"100%"},children:[t,"password"===r?(0,w.jsx)(R.Z,{variant:"contained",size:"small",sx:{color:"white"},onClick:o,children:"Change Password"}):""]})]})},E=n(4942),I=n(792),L=n(6314),N=n(3400),T=n(3058),W=n(8096),F=n(4925),B=n(4834),q=n(3466),H=n(9569),O=n(3710),_=function(e){var r=e.labelText,n=e.labelID,t=e.name,o=e.value,a=e.onChange,i=e.placeholder,l=(0,v.useState)(!1),c=(0,s.Z)(l,2),d=c[0],u=c[1];return(0,w.jsxs)(W.Z,{fullWidth:!0,sx:{bgcolor:"transparent",mt:1},children:[(0,w.jsx)(F.Z,{component:"label",focused:!0,sx:{transform:"none",position:"static",bgcolor:"transparent",color:"white","&.Mui-focused":{color:"white"},"& span":{bgcolor:"transparent",color:"red"}},required:!0,htmlFor:n,children:r}),(0,w.jsx)(B.ZP,{type:d?"text":"password",name:t,onChange:a,value:o,id:n,sx:{padding:"2px 10px",borderRadius:"5px",fontWeight:"500",bgcolor:"white"},placeholder:i,required:!0,endAdornment:(0,w.jsx)(q.Z,{position:"end",children:(0,w.jsx)(N.Z,{"aria-label":"toggle password visibility",onClick:function(){return u(!d)},edge:"end",children:d?(0,w.jsx)(H.Z,{}):(0,w.jsx)(O.Z,{})})})})]})},V=n(9634),Y=function(e){var r=e.togglePasswordChangeModal,n=e.openPasswordChangeModal,d=(0,v.useContext)(V.R).snackbar,u=(0,v.useState)({newPassword:"",currentPassword:"",confirmPassword:""}),p=(0,s.Z)(u,2),x=p[0],h=p[1],m=function(){h({newPassword:"",currentPassword:"",confirmPassword:""}),r()},f=function(e){console.log(x),h((0,t.Z)((0,t.Z)({},x),{},(0,E.Z)({},e.target.name,e.target.value)))},g=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(r){var n,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),e.prev=1,x.newPassword!==x.confirmPassword){e.next=11;break}return e.next=5,M.Z.post("/change-password",{oldPassword:x.currentPassword,newPassword:x.newPassword});case 5:n=e.sent,t=n.data,d(t.status,t.message),m(),e.next=12;break;case 11:d("error","Password missmatch");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d("error",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(r){return e.apply(this,arguments)}}();return(0,w.jsx)(I.Z,{open:n,onClose:m,"aria-labelledby":"login-modal","aria-describedby":"login_modal",closeAfterTransition:!0,sx:{bgcolor:"transparent",backdropFilter:"blur(2px)"},children:(0,w.jsx)(l.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xl:400,lg:400,md:400,sm:400,xs:"70%"},bgcolor:" rgba(133, 103, 157, 0.47)",border:"1px solid white",borderRadius:"20px",p:5},children:(0,w.jsxs)(L.Z,{bgcolor:"transparent",mt:6,children:[(0,w.jsx)(N.Z,{onClick:m,sx:{color:"white",position:"absolute",right:"35px",top:"20px"},children:(0,w.jsx)(T.Z,{sx:{bgcolor:"transparent"}})}),(0,w.jsxs)(i.Z,{bgcolor:"transparent",children:[(0,w.jsx)(i.Z,{bgcolor:"transparent",sx:{width:"150px",position:"absolute",top:"10px",left:"30px"},children:(0,w.jsx)(i.Z,{component:"img",src:"/assets/EviteGuruLogoWhite.svg",width:"100%",height:"100%",bgcolor:"transparent"})}),(0,w.jsx)(c.Z,{bgcolor:"transparent",fontSize:"25px",fontWeight:"600",color:"white",variant:"h1",mb:2,children:"Change Password"})]}),(0,w.jsxs)(i.Z,{component:"form",bgcolor:"transparent",onSubmit:g,children:[(0,w.jsx)(_,{labelText:"Current Password",labelID:"currentPassword",name:"currentPassword",value:x.currentPassword,onChange:f,placeholder:"Your current password"}),(0,w.jsx)(_,{labelText:"New Password",labelID:"newPassword",name:"newPassword",value:x.newPassword,onChange:f,placeholder:"Your new password"}),(0,w.jsx)(_,{labelText:"Confirm Password",labelID:"confirmPassword",name:"confirmPassword",value:x.confirmPassword,onChange:f,placeholder:"Confirm new password"}),(0,w.jsxs)(R.Z,{disableElevation:!0,variant:"contained",type:"submit",sx:{width:"100%",bgcolor:"#3B285B",color:"white",mt:2,"&:hover":{bgcolor:"#3B285B",scale:"1.01"},"&:active":{scale:".95"}},children:[" ","Change Password"]})]})]})})})},G=function(){var e,r=(0,v.useState)(!1),n=(0,s.Z)(r,2),u=n[0],p=n[1],x=(0,A.v9)((function(e){return e.adminLogin})),h=x.adminInfo,m=(x.error,x.loading,(0,v.useState)()),f=(0,s.Z)(m,2),g=f[0],b=f[1],Z=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(r,n){var t,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.Z.get("/auth");case 3:t=e.sent,a=t.data,b(a.admin),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r,n){return e.apply(this,arguments)}}(),P=function(){p(!u)};return(0,v.useEffect)((function(){Z(null===h||void 0===h?void 0:h._id)}),[]),(0,w.jsxs)(i.Z,{sx:{height:"100%",width:{xl:"calc(100vw - 250px)",lg:"calc(100vw - 270px)",md:"calc(100vw - 270px)",sm:"100vw",xs:"100vw"},maxWidth:"1150px",padding:"0 20px 20px 20px",boxSizing:"border-box"},children:[(0,w.jsxs)(l.Z,{sx:{bgcolor:"white",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",padding:{xs:"20px 10px",sm:"20px 40px"},borderRadius:"20px"},elevation:10,children:[(0,w.jsx)(c.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",mb:2,sx:{color:"#795da8",width:"100%"},children:"Admin Profile"}),(0,w.jsxs)(d.ZP,{container:!0,justifyContent:"center",children:[(0,w.jsxs)(d.ZP,{item:!0,xs:12,md:8,sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,w.jsx)(z,(0,t.Z)({alt:null===g||void 0===g?void 0:g.name,sx:{width:"100px",height:"100px",fontSize:"35px",bgcolor:"#795DA8",textTransform:"uppercase"}},(e="".concat(null===g||void 0===g?void 0:g.name),{children:"".concat((void 0===e?"":e)[0][0])}))),(0,w.jsx)(c.Z,{mt:1,textAlign:"center",fontWeight:"800",sx:{width:"100%",textTransform:"uppercase"},children:null===g||void 0===g?void 0:g.name})]}),(0,w.jsxs)(d.ZP,{item:!0,xs:12,md:8,container:!0,m:2,sx:{border:"1px solid grey",p:3,borderRadius:"20px"},children:[(0,w.jsx)(D,{title:"User E-mail :",value:null===g||void 0===g?void 0:g.email}),(0,w.jsx)(D,{type:"password",title:"Password :",clickHandler:P}),(0,w.jsx)(D,{title:"Phone No :",value:null===g||void 0===g?void 0:g.phone}),(0,w.jsx)(D,{title:"Admin:",value:"".concat(null===g||void 0===g?void 0:g.superAdmin)}),(0,w.jsx)(D,{title:"Permission :",value:"".concat(null===g||void 0===g?void 0:g.permission)}),(0,w.jsx)(D,{title:"Last Login :",value:"".concat(null===g||void 0===g?void 0:g.adminLastLogin)})]})]})]}),(0,w.jsx)(Y,{togglePasswordChangeModal:P,openPasswordChangeModal:u})]})}},3058:function(e,r,n){var t=n(4836);r.Z=void 0;var o=t(n(5649)),a=n(184),s=(0,o.default)((0,a.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined");r.Z=s},3710:function(e,r,n){var t=n(9201),o=n(184);r.Z=(0,t.Z)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},9569:function(e,r,n){var t=n(9201),o=n(184);r.Z=(0,t.Z)((0,o.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff")},3466:function(e,r,n){n.d(r,{Z:function(){return j}});var t=n(4942),o=n(3366),a=n(7462),s=n(2791),i=n(8182),l=n(4419),c=n(4036),d=n(890),u=n(3840),p=n(2930),v=n(6934),x=n(5878),h=n(1217);function m(e){return(0,h.Z)("MuiInputAdornment",e)}var f,g=(0,x.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),w=n(1402),b=n(184),Z=["children","className","component","disablePointerEvents","disableTypography","position","variant"],P=(0,v.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r["position".concat((0,c.Z)(n.position))],!0===n.disablePointerEvents&&r.disablePointerEvents,r[n.variant]]}})((function(e){var r=e.theme,n=e.ownerState;return(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active},"filled"===n.variant&&(0,t.Z)({},"&.".concat(g.positionStart,"&:not(.").concat(g.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),j=s.forwardRef((function(e,r){var n=(0,w.Z)({props:e,name:"MuiInputAdornment"}),t=n.children,v=n.className,x=n.component,h=void 0===x?"div":x,g=n.disablePointerEvents,j=void 0!==g&&g,y=n.disableTypography,C=void 0!==y&&y,S=n.position,k=n.variant,z=(0,o.Z)(n,Z),M=(0,p.Z)()||{},A=k;k&&M.variant,M&&!A&&(A=M.variant);var R=(0,a.Z)({},n,{hiddenLabel:M.hiddenLabel,size:M.size,disablePointerEvents:j,position:S,variant:A}),D=function(e){var r=e.classes,n=e.disablePointerEvents,t=e.hiddenLabel,o=e.position,a=e.size,s=e.variant,i={root:["root",n&&"disablePointerEvents",o&&"position".concat((0,c.Z)(o)),s,t&&"hiddenLabel",a&&"size".concat((0,c.Z)(a))]};return(0,l.Z)(i,m,r)}(R);return(0,b.jsx)(u.Z.Provider,{value:null,children:(0,b.jsx)(P,(0,a.Z)({as:h,ownerState:R,className:(0,i.Z)(D.root,v),ref:r},z,{children:"string"!==typeof t||C?(0,b.jsxs)(s.Fragment,{children:["start"===S?f||(f=(0,b.jsx)("span",{className:"notranslate",children:"\u200b"})):null,t]}):(0,b.jsx)(d.Z,{color:"text.secondary",children:t})}))})}))}}]);
//# sourceMappingURL=344.ee9945e4.chunk.js.map