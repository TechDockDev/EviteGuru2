"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[135],{5135:function(e,n,t){t.r(n);var a=t(4165),r=t(5861),l=t(4942),i=t(1413),s=t(9439),o=t(4554),u=t(890),c=t(6314),d=t(7391),p=t(3786),m=t(6151),h=t(1243),f=t(2791),v=t(9634),x=t(7689),Z=t(184);n.default=function(){var e=(0,f.useState)({amountType:"",plans:[]}),n=(0,s.Z)(e,2),t=n[0],g=n[1],b=(0,f.useState)([]),j=(0,s.Z)(b,2),C=j[0],w=j[1],k=(0,f.useContext)(v.R).snackbar,y=(0,x.s0)(),A=function(e){g((0,i.Z)((0,i.Z)({},t),{},(0,l.Z)({},e.target.name,e.target.value)))},S=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,h.Z.post("/coupon/create",t);case 4:r=e.sent,k(r.data.status,r.data.message),y("/admin/promotions"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),k("error",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.Z.get("/plan/all");case 3:n=e.sent,w(n.data.plans),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),k("error",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,f.useEffect)((function(){z()}),[]),(0,Z.jsxs)(o.Z,{padding:"0px 20px 20px 20px",children:[(0,Z.jsx)(u.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",mb:2,sx:{color:"#795da8",width:"100%"},children:"Add Coupon"}),(0,Z.jsxs)(c.Z,{spacing:3,m:2,alignItems:"center",component:"form",onSubmit:S,children:[(0,Z.jsx)(d.Z,{required:!0,size:"small",fullWidth:!0,name:"name",variant:"outlined",label:"Coupon Name",onChange:A,placeholder:"Add coupon name"}),(0,Z.jsx)(d.Z,{required:!0,size:"small",fullWidth:!0,variant:"outlined",type:"number",label:"Amount or %",name:"amount",onChange:A,placeholder:"Enter Amount or %"}),(0,Z.jsxs)(d.Z,{required:!0,size:"small",fullWidth:!0,select:!0,label:"Amount In",name:"amountType",value:null===t||void 0===t?void 0:t.amountType,onChange:A,children:[(0,Z.jsx)(p.Z,{value:"price",children:"Price"}),(0,Z.jsx)(p.Z,{value:"percentage",children:"Percentage"})]}),(0,Z.jsx)(d.Z,{required:!0,size:"small",fullWidth:!0,select:!0,name:"plans",SelectProps:{multiple:!0,value:t.plans,onChange:A},label:"Select Plan",children:null===C||void 0===C?void 0:C.map((function(e){return(0,Z.jsx)(p.Z,{value:e.name,children:e.name},e._id)}))}),(0,Z.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",width:"100%",children:[(0,Z.jsx)(m.Z,{disableElevation:!0,variant:"contained",sx:{color:"white"},type:"submit",children:"Add Coupon"}),(0,Z.jsx)(m.Z,{onClick:function(){y("/admin/promotions")},disableElevation:!0,variant:"outlined",children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=135.c1bcfed4.chunk.js.map