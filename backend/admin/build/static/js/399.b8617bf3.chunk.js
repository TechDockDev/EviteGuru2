"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[399],{9399:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(4165),i=r(5861),a=r(1413),s=r(9439),o=r(4554),c=r(890),d=r(1889),l=r(8096),x=r(6314),p=r(7391),u=r(6151),h=r(2791),m=r(1243),g=r(9634),f=r(3400),b=r(792),Z=r(5527),v=r(7247),k=r(1571),j=r(184),w=function(e){var t=e.sticker,r=e.deleteSticker,n=(0,h.useState)(!1),i=(0,s.Z)(n,2),a=i[0],l=i[1],p=function(){l(!a)};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(d.ZP,{item:!0,xs:12,mxs:6,sm:4,md:4,xxmd:3,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:[(0,j.jsxs)(x.Z,{sx:{border:"2px solid #795DA8",borderRadius:"8px",padding:"5px",width:"150px",height:"150px",position:"relative"},children:[(0,j.jsx)(f.Z,{onClick:p,sx:{position:"absolute",top:"0px",right:"0px",borderRadius:"2px 8px 0px 2px",background:"white",padding:"4px","&:hover":{color:"#795DA8",background:"white","& svg":{transition:"all 200ms ease",scale:"1.2"}}},children:(0,j.jsx)(v.Z,{})}),(0,j.jsx)(o.Z,{component:"img",src:"".concat(k.H,"/images/getImage?path=").concat(t.image),alt:"",height:"100%"})]}),(0,j.jsx)(c.Z,{fontSize:"14px",fontWeight:"600",marginY:"5px",children:t.name})]}),(0,j.jsx)(b.Z,{open:a,onClose:p,closeAfterTransition:!0,sx:{bgcolor:"transparent",backdropFilter:"blur(2px)"},children:(0,j.jsxs)(Z.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{sm:400,xs:"90%"},bgcolor:" rgba(133, 103, 157, 0.47)",border:"1px solid white",borderRadius:"20px",p:5,boxSizing:"border-box"},children:[(0,j.jsx)(c.Z,{variant:"h1",sx:{fontSize:"25px",fontWeight:"600",textAlign:"center",color:"white"},children:"Delete sticker"}),(0,j.jsxs)(c.Z,{sx:{mt:2,textAlign:"center",color:"white"},children:["Are sure you want to delete ",t.name," ?"]}),(0,j.jsx)(u.Z,{onClick:function(){r(t._id),p()},variant:"contained",sx:{color:"white",bgcolor:"#3B285B",width:"100%",mt:2,"&:hover":{scale:"1.02",bgcolor:"#3B285B"}},disableElevation:!0,children:"Yes"}),(0,j.jsx)(u.Z,{onClick:p,variant:"outlined",sx:{color:"white",borderColor:"#3B285B",width:"100%",mt:2,"&:hover":{scale:"1.02",borderColor:"#3B285B"}},disableElevation:!0,children:"No"})]})})]})},S=function(){var e=(0,h.useState)([]),t=(0,s.Z)(e,2),r=t[0],f=t[1],b=(0,h.useState)(""),Z=(0,s.Z)(b,2),v=Z[0],k=Z[1],S=(0,h.useContext)(g.R).snackbar,C=new FormData,y=(0,h.useState)({name:"",sticker:""}),B=(0,s.Z)(y,2),z=B[0],A=B[1],R=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.get("template/stickers");case 3:t=e.sent,r=t.data,f(r.stickers),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S("error",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,console.log(C),(r=new FormData).append("name",z.name),r.append("sticker",z.sticker),e.next=8,m.Z.post("template/addSticker",r);case 8:i=e.sent,a=i.data,S(a.status,a.message),R(),A({name:"",sticker:""}),k(""),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),S("error",e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();(0,h.useEffect)((function(){R()}),[]);var P=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.delete("/template/sticker/".concat(t));case 3:r=e.sent,i=r.data,S(i.status,i.message),R(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S("error",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,j.jsxs)(o.Z,{padding:"0px 10px 20px 10px",boxSizing:"border-box",children:[(0,j.jsx)(c.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",mb:2,sx:{color:"#795da8",width:"100%"},children:"Manage Stickers"}),(0,j.jsxs)(d.ZP,{container:!0,padding:"20px",border:"2px solid #795da8",borderRadius:"8px",children:[(0,j.jsx)(d.ZP,{item:!0,xs:12,mb:1,children:(0,j.jsx)(c.Z,{variant:"h1",align:"left",fontWeight:"800",fontSize:"18px",mb:2,sx:{color:"#795da8",width:"100%",borderBottom:"1px solid #795da8",paddingBottom:"5px"},children:"Add a new sticker"})}),(0,j.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,j.jsxs)(l.Z,{component:"form",fullWidth:!0,onSubmit:D,children:[(0,j.jsx)(x.Z,{children:(0,j.jsx)("input",{style:{border:"1px solid #C4C4C4",padding:"9px 5px",borderRadius:"4px"},required:!0,type:"file",name:"sticker",accept:"image/*",crossOrigin:"Anonymous",onChange:function(e){var t=e.target.files[0];if(A((0,a.Z)((0,a.Z)({},z),{},{sticker:e.target.files[0]})),t){C.append("sticker",t);var r=URL.createObjectURL(t);k(r)}}})}),(0,j.jsx)(p.Z,{required:!0,size:"small",type:"text",name:"name",value:z.name,onChange:function(e){C.append("name",e.target.value),A((0,a.Z)((0,a.Z)({},z),{},{name:e.target.value}))},label:"Sticker Name",sx:{marginY:"20px"}}),""!==v&&(0,j.jsx)(u.Z,{type:"submit",disableElevation:!0,variant:"contained",sx:{color:"white",marginBottom:{xs:"20px",sm:"0px"}},children:"Upload Sticker"})]})}),(0,j.jsx)(d.ZP,{item:!0,xs:12,sm:6,display:"flex",justifyContent:"center",alignItems:"center",children:(0,j.jsx)(x.Z,{sx:{border:"2px solid #795DA8",borderRadius:"8px",padding:"10px",width:"150px",height:"150px"},children:(0,j.jsx)(o.Z,{component:"img",src:""!==v?v:"/assets/imgPlaceholder.svg",alt:"",height:"100%"})})})]}),(0,j.jsxs)(d.ZP,{container:!0,mt:3,padding:"20px",border:"2px solid #795da8",borderRadius:"8px",children:[(0,j.jsx)(d.ZP,{item:!0,xs:12,mb:1,children:(0,j.jsx)(c.Z,{variant:"h1",align:"left",fontWeight:"800",fontSize:"18px",mb:2,sx:{color:"#795da8",width:"100%",borderBottom:"1px solid #795da8",paddingBottom:"5px"},children:"Available Stickers"})}),r.map((function(e,t){return(0,j.jsx)(w,{sticker:e,deleteSticker:P},t)}))]})]})}},1571:function(e,t,r){r.d(t,{H:function(){return n}});var n="http://localhost:8085"},7247:function(e,t,r){var n=r(4836);t.Z=void 0;var i=n(r(5649)),a=r(184),s=(0,i.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s}}]);
//# sourceMappingURL=399.b8617bf3.chunk.js.map