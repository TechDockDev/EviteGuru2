"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[571,229],{9603:function(e,n,i){i.r(n),i.d(n,{EditSubAdmin:function(){return B},default:function(){return H}});var t=i(4165),r=i(1413),o=i(5861),a=i(4942),s=i(9439),l=i(6314),d=i(5527),c=i(890),u=i(1889),m=i(3366),p=i(7462),x=i(2791),h=i(8182),f=i(4419),Z=i(6934),v=i(1402),g=i(5878),b=i(1217);function j(e){return(0,b.Z)("MuiFormGroup",e)}(0,g.Z)("MuiFormGroup",["root","row","error"]);var w=i(2930),S=i(6147),A=i(184),C=["className","row"],k=(0,Z.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,n){var i=e.ownerState;return[n.root,i.row&&n.row]}})((function(e){var n=e.ownerState;return(0,p.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},n.row&&{flexDirection:"row"})})),y=x.forwardRef((function(e,n){var i=(0,v.Z)({props:e,name:"MuiFormGroup"}),t=i.className,r=i.row,o=void 0!==r&&r,a=(0,m.Z)(i,C),s=(0,w.Z)(),l=(0,S.Z)({props:i,muiFormControl:s,states:["error"]}),d=(0,p.Z)({},i,{row:o,error:l.error}),c=function(e){var n=e.classes,i={root:["root",e.row&&"row",e.error&&"error"]};return(0,f.Z)(i,j,n)}(d);return(0,A.jsx)(k,(0,p.Z)({className:(0,h.Z)(c.root,t),ownerState:d,ref:n},a))})),F=i(5523),z=i(4454),P=i(6151),T=i(8937),N=i(1811),M=i(1243),I=i(7689),D=i(1087),R=i(8355),E=i(9634),B=function(){var e,n=(0,I.UO)(),i=(0,x.useState)({}),m=(0,s.Z)(i,2),p=(m[0],m[1],(0,x.useState)({name:"",email:"",phone:"",permission:[],superAdmin:""})),h=(0,s.Z)(p,2),f=h[0],Z=h[1],v=(0,x.useState)((e={Template:!1,Users:!1,Subscription:!1,"Sub Admin":!1,Notifications:!1,Coupons:!1},(0,a.Z)(e,"Template",!1),(0,a.Z)(e,"Enterprise",!1),(0,a.Z)(e,"Accounts",!1),e)),g=(0,s.Z)(v,2),b=g[0],j=g[1],w=(0,x.useContext)(E.R).snackbar,S=(0,I.s0)(),C=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(i,o){var a,s,l,d,c,u,m,p,x,h;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.Z.get("/".concat(null===n||void 0===n?void 0:n.id));case 3:p=e.sent,x=p.data,console.log("--\x3e",null===x||void 0===x?void 0:x.admin),Z({name:null===x||void 0===x||null===(a=x.admin)||void 0===a?void 0:a.name,email:null===x||void 0===x||null===(s=x.admin)||void 0===s?void 0:s.email,phone:null===x||void 0===x||null===(l=x.admin)||void 0===l?void 0:l.phone,permission:null===x||void 0===x||null===(d=x.admin)||void 0===d?void 0:d.permission,superAdmin:null===x||void 0===x||null===(c=x.admin)||void 0===c?void 0:c.superAdmin}),h=b,null===x||void 0===x||null===(u=x.admin)||void 0===u||null===(m=u.permission)||void 0===m||m.forEach((function(e){h[e]=!0})),j((0,r.Z)({},h)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),w("error",e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,i){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var i,r,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in e.prev=0,i=[],b)!0===b[r]&&i.push(r);return e.next=5,M.Z.put("/".concat(null===n||void 0===n?void 0:n.id),{name:f.name,email:f.email,phone:f.phone,permission:i,superAdmin:f.superAdmin});case 5:o=e.sent,a=o.data,w(a.status,a.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),w("error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),B=function(e){j((0,r.Z)((0,r.Z)({},b),{},(0,a.Z)({},e.target.name,e.target.checked)))},H=function(e,n){Z((0,r.Z)((0,r.Z)({},f),{},(0,a.Z)({},e.target.name,e.target.value)))};console.log(f);T.Z,N.Z;return(0,x.useEffect)((function(){C()}),[]),(0,A.jsx)(l.Z,{width:"100%",margin:"auto",alignItems:"center",p:2,children:(0,A.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",p:2,bgcolor:"white",width:"80%",borderRadius:"20px",paddingBottom:"40px"},elevation:10,children:[(0,A.jsx)(c.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",mb:2,sx:{color:"#795da8",width:"100%"},children:"Edit Admin"}),(0,A.jsxs)(u.ZP,{width:"90%",p:1,container:!0,component:"form",onSubmit:function(e){e.preventDefault(),k(),S("/admin/admin_list")},sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,A.jsx)(R.Z,{labelText:"Sub-Admin Name",inputType:"text",inputName:"name",inputValue:f.name,onChangeHandler:H,labelInputId:"name",requiredTrue:!0,placeholderText:"Sub-Admin name"}),(0,A.jsx)(R.Z,{labelText:"Email",inputType:"email",inputName:"email",inputValue:f.email,onChangeHandler:H,labelInputId:"email",requiredTrue:!0,placeholderText:"Enter email"}),(0,A.jsx)(R.Z,{labelText:"Phone",inputType:"number",inputName:"phone",inputValue:f.phone,onChangeHandler:H,labelInputId:"phone",requiredTrue:!0,placeholderText:"Enter Phone No."}),(0,A.jsxs)(u.ZP,{container:!0,mt:2,children:[(0,A.jsx)(u.ZP,{component:"label",htmlFor:"superAdmin",item:!0,xl:4,lg:4,md:4,sm:4,xs:12,sx:{fontFamily:"Montserrat",fontSize:"16px",display:"flex",alignItems:"center"},children:"Super Admin *"}),(0,A.jsxs)(u.ZP,{component:"select",required:!0,name:"superAdmin",value:f.superAdmin,onChange:H,id:"superAdmin",item:!0,xl:8,lg:8,md:8,sm:8,xs:12,sx:{height:"40px",outline:"none",border:"1px solid black",borderRadius:"8px",paddingX:"8px",fontSize:"16px","&:focus":{border:"2px solid #795DA8"}},children:[(0,A.jsx)("option",{value:null,children:"Please choose an option"}),(0,A.jsx)("option",{value:!0,children:"Yes"}),(0,A.jsx)("option",{value:!1,children:"No"})]})]}),(!1===(null===f||void 0===f?void 0:f.superAdmin)||"false"===(null===f||void 0===f?void 0:f.superAdmin))&&(0,A.jsxs)(u.ZP,{container:!0,mt:2,children:[(0,A.jsx)(u.ZP,{component:"label",htmlFor:"permission",item:!0,xl:4,lg:4,md:4,sm:4,xs:12,sx:{fontFamily:"Montserrat",fontSize:"16px",display:"flex",alignItems:"center"},children:"Permission *"}),(0,A.jsx)(u.ZP,{item:!0,xl:8,lg:8,md:8,sm:8,xs:12,multiple:!0,children:(0,A.jsx)(y,{row:!0,children:L.map((function(e,n){return(0,A.jsx)(F.Z,{sx:{width:"fit-content"},control:(0,A.jsx)(z.Z,{checked:b[e.permission],name:e.permission,onChange:B}),label:e.permission},n)}))})})]}),(0,A.jsxs)(u.ZP,{item:!0,mt:3,xs:12,width:"100%",textAlign:"center",children:[(0,A.jsx)(P.Z,{disableElevation:!0,variant:"contained",type:"submit",sx:{color:"white",width:"100%",mb:1},size:"large",children:"Submit"}),(0,A.jsx)(P.Z,{disableElevation:!0,fullWidth:!0,variant:"outlined",component:D.OL,to:"/admin/admin_list",children:"Back"})]})]})]})})},H=B,L=[{permission:"Template"},{permission:"Subscription"},{permission:"Users"},{permission:"Sub Admin"},{permission:"Notifications"},{permission:"Coupons"},{permission:"Enterprise"},{permission:"Accounts"}]},8355:function(e,n,i){var t=i(9439),r=i(1889),o=i(890),a=i(3400),s=i(2791),l=i(9569),d=i(3710),c=i(184);n.Z=function(e){var n=e.labelText,i=e.inputType,u=e.inputName,m=e.inputValue,p=e.onChangeHandler,x=e.labelInputId,h=e.requiredTrue,f=e.placeholderText,Z=e.helperText,v=e.rows,g=(0,s.useState)(!1),b=(0,t.Z)(g,2),j=b[0],w=b[1];return(0,c.jsx)(c.Fragment,{children:"textarea"!==i?"password"!==i?(0,c.jsxs)(r.ZP,{container:!0,mt:2,children:[(0,c.jsxs)(r.ZP,{component:"label",htmlFor:x,item:!0,xl:4,lg:4,md:4,sm:4,xs:12,sx:{fontFamily:"Montserrat",fontSize:"16px",display:"flex",alignItems:"center"},children:[n," ",h?"*":""]}),(0,c.jsx)(r.ZP,{component:"input",required:h,type:i,name:u,value:m,onChange:p,id:x,placeholder:f,item:!0,xl:8,lg:8,md:8,sm:8,xs:12,sx:{height:"40px",outline:"none",border:"1px solid black",borderRadius:"8px",paddingX:"10px",fontSize:"16px","&:focus":{border:"2px solid #795DA8"}}}),Z?(0,c.jsx)(r.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,sx:{mt:1,paddingRight:"20px"},children:(0,c.jsx)(o.Z,{textAlign:"right",fontSize:"12px",children:Z})}):""]}):(0,c.jsxs)(r.ZP,{container:!0,mt:2,position:"relative",children:[(0,c.jsxs)(r.ZP,{component:"label",htmlFor:x,item:!0,xl:4,lg:4,md:4,sm:4,xs:12,sx:{fontFamily:"Montserrat",fontSize:"16px",display:"flex",alignItems:"center"},children:[n," ",h?"*":""]}),(0,c.jsx)(r.ZP,{component:"input",required:h,type:j?"text":"password",name:u,value:m,onChange:p,id:x,placeholder:f,item:!0,xl:8,lg:8,md:8,sm:8,xs:12,sx:{height:"40px",outline:"none",border:"1px solid black",borderRadius:"8px",paddingX:"10px",fontSize:"16px","&:focus":{border:"2px solid #795DA8"}}}),Z?(0,c.jsx)(r.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,sx:{mt:1,paddingRight:"20px"},children:(0,c.jsx)(o.Z,{textAlign:"right",fontSize:"12px",children:Z})}):"",(0,c.jsx)(a.Z,{"aria-label":"toggle-password-visibility",onClick:function(){return w((function(e){return!e}))},sx:{position:"absolute",right:"0px"},children:j?(0,c.jsx)(l.Z,{}):(0,c.jsx)(d.Z,{})})]}):(0,c.jsxs)(r.ZP,{container:!0,mt:2,children:[(0,c.jsxs)(r.ZP,{component:"label",htmlFor:x,item:!0,xl:4,lg:4,md:4,sm:4,xs:12,sx:{fontFamily:"Montserrat",fontSize:"16px",display:"flex",alignItems:"center"},children:[n," ",h?"*":""]}),(0,c.jsx)(r.ZP,{component:"textarea",rows:v,required:h,name:u,value:m,onChange:p,id:x,placeholder:f,item:!0,xl:8,lg:8,md:8,sm:8,xs:12,sx:{outline:"none",border:"1px solid black",borderRadius:"8px",padding:"10px",fontSize:"18px","&:focus":{border:"2px solid #795DA8"},resize:"none"}})]})})}},3571:function(e,n,i){i.r(n);var t=i(4165),r=i(5861),o=i(9439),a=i(1115),s=i(2791),l=i(1286),d=i(1243),c=(i(7771),i(383)),u=i(7689),m=i(1087),p=(i(9434),i(9603),i(3400)),x=i(4554),h=i(890),f=i(6151),Z=i(792),v=i(5527),g=i(9634),b=i(184);n.default=function(){var e=(0,u.s0)(),n=(0,s.useState)(!1),i=(0,o.Z)(n,2),j=i[0],w=i[1],S=(0,s.useContext)(g.R).snackbar,A=(0,s.useState)([]),C=(0,o.Z)(A,2),k=C[0],y=C[1],F=(0,s.useState)(!1),z=(0,o.Z)(F,2),P=z[0],T=z[1],N=(0,s.useState)(""),M=(0,o.Z)(N,2),I=M[0],D=M[1],R=function(e){P?(D(""),T(!P)):(D(e),T(!P))},E=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Z.delete("/".concat(n));case 3:i=e.sent,r=i.data,S(r.status,r.message),B(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S("error",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,d.Z.get("/admin-list");case 4:n=e.sent,i=n.data,y(i.admins),w(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),S("error",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){B()}),[]);var H=[{field:"name",headerName:"Name",width:150},{field:"email",headerName:"Email",width:210},{field:"phone",headerName:"Phone",width:150},{field:"adminLastLogin",headerName:"Last Online",width:150},{field:"superAdmin",headerName:"Admin Type",width:150,valueGetter:function(e){var n;return null!==(n=e.row)&&void 0!==n&&n.superAdmin?"Super Admin":"Sub Admin"}},{field:"edit",headerName:"Edit",width:80,renderCell:function(n){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(p.Z,{onClick:function(i){var t;t=n.row._id,e("/admin/".concat(t))},sx:{color:"#FFFFFF",backgroundColor:"#795DA8",borderRadius:"70%"},children:(0,b.jsx)(l.Z,{})})})}},{field:"delete",headerName:"Delete",width:100,renderCell:function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(p.Z,{onClick:function(n){R(e.row)},sx:{color:"#FFFFFF",backgroundColor:"#795DA8",borderRadius:"70%"},children:(0,b.jsx)(c.Z,{})})})}}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(x.Z,{padding:"10px",boxSizing:"border-box",children:[(0,b.jsxs)(x.Z,{sx:{alignContent:"right",justifyItems:"right"},children:[(0,b.jsx)(h.Z,{variant:"h1",align:"center",fontWeight:"800",fontSize:"28px",mb:2,sx:{color:"#795da8",width:"100%"},children:"Sub-Admins List"}),(0,b.jsx)(f.Z,{component:m.OL,to:"/admin/create-subadmin",variant:"outlined",sx:{my:1},children:"Add Sub-Admin"})]}),(0,b.jsx)(x.Z,{sx:{width:"100%"},children:(0,b.jsx)(a._,{width:"100%",rows:k,columns:H,autoHeight:!0,initialState:{pagination:{paginationModel:{pageSize:10}}},getRowId:function(e){return e._id},loading:j,pageSizeOptions:[5],disableRowSelectionOnClick:!0,sx:{border:"2px solid #795DA8","&.MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none !important"},"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"600"}}})})]}),(0,b.jsx)(Z.Z,{open:P,onClose:R,closeAfterTransition:!0,sx:{bgcolor:"transparent",backdropFilter:"blur(2px)"},children:(0,b.jsxs)(v.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xl:400,lg:400,md:400,sm:400,xs:"70%"},bgcolor:" rgba(133, 103, 157, 0.47)",border:"1px solid white",borderRadius:"20px",p:5},children:[(0,b.jsx)(h.Z,{variant:"h1",sx:{fontSize:"25px",fontWeight:"600",textAlign:"center",color:"white"},children:"Delete Admin"}),(0,b.jsxs)(h.Z,{sx:{mt:2,textAlign:"center",color:"white"},children:["Are sure you want to delete ",I.name," ?"]}),(0,b.jsx)(f.Z,{onClick:function(){E(I._id),R()},variant:"contained",sx:{color:"white",bgcolor:"#3B285B",width:"100%",mt:2,"&:hover":{scale:"1.02",bgcolor:"#3B285B"}},disableElevation:!0,children:"Yes"}),(0,b.jsx)(f.Z,{onClick:R,variant:"outlined",sx:{color:"white",borderColor:"#3B285B",width:"100%",mt:2,"&:hover":{scale:"1.02",borderColor:"#3B285B"}},disableElevation:!0,children:"No"})]})})]})}},1811:function(e,n,i){var t=i(4836);n.Z=void 0;var r=t(i(5649)),o=i(184),a=(0,r.default)((0,o.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");n.Z=a},8937:function(e,n,i){var t=i(4836);n.Z=void 0;var r=t(i(5649)),o=i(184),a=(0,r.default)((0,o.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");n.Z=a},3710:function(e,n,i){var t=i(9201),r=i(184);n.Z=(0,t.Z)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},9569:function(e,n,i){var t=i(9201),r=i(184);n.Z=(0,t.Z)((0,r.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff")}}]);
//# sourceMappingURL=571.16a53425.chunk.js.map