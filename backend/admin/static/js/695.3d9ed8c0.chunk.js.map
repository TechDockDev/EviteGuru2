{"version":3,"file":"static/js/695.3d9ed8c0.chunk.js","mappings":"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","sources":["screen/AdminUserListScreen.js"],"sourcesContent":["import { DataGrid } from \"@mui/x-data-grid\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport { Box, Button, IconButton, Typography } from \"@mui/material\";\r\nimport axios from \"axios\";\r\nimport PersonOffIcon from \"@mui/icons-material/PersonOff\";\r\nimport PersonIcon from \"@mui/icons-material/Person\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { DataContext } from \"../AppContext\";\r\n\r\nconst UserListScreen = () => {\r\n   const [loading, setLoading] = useState(false);\r\n   const [users, setUsers] = useState();\r\n   const navigate = useNavigate();\r\n   const { snackbar } = useContext(DataContext);\r\n\r\n   const getUsers = async () => {\r\n      try {\r\n         const res = await axios.get(\"/user/all-users\");\r\n         setUsers(res.data.users);\r\n         // console.log(res);\r\n      } catch (error) {\r\n         // console.log(error);\r\n      }\r\n   };\r\n   //  ===\r\n   const suspendUser = async (id) => {\r\n      try {\r\n         const res = await axios.patch(\"/user/suspend\", {\r\n            userId: id,\r\n         });\r\n         getUsers();\r\n         snackbar(res.data.status, res.data.message);\r\n      } catch (error) {\r\n         snackbar(\"error\", error.message);\r\n      }\r\n   };\r\n   // ===\r\n   useEffect(() => {\r\n      getUsers();\r\n   }, []);\r\n   // ===\r\n   const columns = [\r\n      {\r\n         field: \"name\",\r\n         headerName: \"Name\",\r\n         width: 150,\r\n         renderCell: (params) => {\r\n            return (\r\n               <Typography\r\n                  fontSize={\"14px\"}\r\n                  sx={{\r\n                     \"&:hover\": {\r\n                        textDecoration: \"underline\",\r\n                        cursor: \"pointer\",\r\n                     },\r\n                  }}>\r\n                  {params?.row?.name}\r\n               </Typography>\r\n            );\r\n         },\r\n      },\r\n\r\n      {\r\n         field: \"email\",\r\n         headerName: \"Email\",\r\n         width: 210,\r\n      },\r\n\r\n      {\r\n         field: \"phone\",\r\n         headerName: \"Phone\",\r\n         width: 150,\r\n      },\r\n      {\r\n         field: \"templateNum\",\r\n         headerName: \"Template\",\r\n      },\r\n      {\r\n         field: \"guestNum\",\r\n         headerName: \"Guests\",\r\n         width: 100,\r\n      },\r\n      {\r\n         field: \"subscription\",\r\n         headerName: \"Subscription\",\r\n         width: 150,\r\n         renderCell: (params) => {\r\n            return <div>{params?.row?.subscription?.name}</div>;\r\n         },\r\n      },\r\n      {\r\n         field: \"status\",\r\n         headerName: \"Status\",\r\n         width: 150,\r\n         renderCell: (params) => {\r\n            console.log(\"suspended\", params?.row?.suspended);\r\n\r\n            return (\r\n               <Button\r\n               size=\"small\"\r\n                sx={{\r\n                  color:params?.row?.suspended ? \"#AE9CCA\" :\"white\"\r\n                }}\r\n                  disableElevation\r\n                  variant={params?.row?.suspended ? \"outlined\" : \"contained\"}\r\n                  onClick={(e) => {\r\n                     e.stopPropagation();\r\n                     suspendUser(params?.row?._id);\r\n                  }}>\r\n                  {params?.row?.suspended && \"un\"}suspend User\r\n               </Button>\r\n            );\r\n         },\r\n      },\r\n   ];\r\n\r\n   return (\r\n      <>\r\n         <Box paddingX={\"10px\"} boxSizing={\"border-box\"}>\r\n            <Typography\r\n               variant=\"h1\"\r\n               align=\"center\"\r\n               fontWeight=\"800\"\r\n               fontSize={\"28px\"}\r\n               mb={2}\r\n               sx={{\r\n                  color: \"#795da8\",\r\n                  width: \"100%\",\r\n               }}>\r\n               List of users\r\n            </Typography>\r\n            {users && (\r\n               <DataGrid\r\n                  width={\"98%\"}\r\n                  rows={users}\r\n                  getRowId={(row) => row._id}\r\n                  columns={columns}\r\n                  disableRowSelectionOnClick={true}\r\n                  autoHeight={true}\r\n                  initialState={{\r\n                     pagination: {\r\n                        paginationModel: {\r\n                           pageSize: 10,\r\n                        },\r\n                     },\r\n                  }}\r\n                  loading={loading}\r\n                  onRowClick={(row, e) => {\r\n                     e.stopPropagation();\r\n                     navigate(`/admin/user/${row.id}`);\r\n                  }}\r\n                  pageSizeOptions={[5]}\r\n                  sx={{\r\n                     border: \"2px solid #795DA8\",\r\n                     \"&.MuiDataGrid-root .MuiDataGrid-cell:focus-within\": {\r\n                        outline: \"none !important\",\r\n                     },\r\n                     \"& .MuiDataGrid-columnHeaderTitle\": {\r\n                        fontWeight: \"600\",\r\n                     },\r\n                     \"& .MuiDataGrid-row\": {\r\n                        cursor: \"pointer\",\r\n                     },\r\n                  }}\r\n               />\r\n            )}\r\n         </Box>\r\n      </>\r\n   );\r\n};\r\n\r\nexport default UserListScreen;\r\n"],"names":["_useState","useState","_useState2","_slicedToArray","loading","_useState3","_useState4","users","setUsers","navigate","useNavigate","snackbar","useContext","DataContext","getUsers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","axios","sent","data","t0","stop","apply","arguments","suspendUser","_ref2","_callee2","id","_context2","userId","status","message","_x","useEffect","columns","field","headerName","width","renderCell","params","_params$row","_jsx","Typography","fontSize","sx","textDecoration","cursor","children","row","name","_params$row2","_params$row2$subscrip","subscription","_params$row3","_params$row4","_params$row5","_params$row7","console","log","suspended","_jsxs","Button","size","color","disableElevation","variant","onClick","e","_params$row6","stopPropagation","_id","_Fragment","Box","paddingX","boxSizing","align","fontWeight","mb","DataGrid","rows","getRowId","disableRowSelectionOnClick","autoHeight","initialState","pagination","paginationModel","pageSize","onRowClick","concat","pageSizeOptions","border","outline"],"sourceRoot":""}